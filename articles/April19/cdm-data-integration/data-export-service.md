---
title: データ エクスポート サービス
description: データ エクスポート サービス
author: sabinn-msft
ms.date: 03/22/2019
ms.topic: article
ms.service: business-applications
ms.author: sabinn
ms.reviewer: deonhe
ms.openlocfilehash: 4857be750a818575adda6d6c93570072e4ab28ea
ms.sourcegitcommit: 921dde7a25596a81c049162eee650d7a2009f17d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/29/2019
ms.locfileid: "1225057"
---
# <a name="data-export-service"></a><span data-ttu-id="436c4-103">データ エクスポート サービス</span><span class="sxs-lookup"><span data-stu-id="436c4-103">Data Export Service</span></span>

[!include[cdm-data-integration banner](../includes/cdm-data-integration.md)]

<span data-ttu-id="436c4-104">Microsoft Dynamics365 のデータ エクスポート サービス (DES) は Microsoft AppSource 提供の無料アドオンであり、Microsoft Dynamics 365 (online) のデータを、顧客が所有する Microsoft Azure サブスクリプションの Microsoft Azure SQL Database に同期します。</span><span class="sxs-lookup"><span data-stu-id="436c4-104">Microsoft Dynamics 365 Data Export Service (DES) is a free add-on from Microsoft AppSource that synchronizes Microsoft Dynamics 365 (online) data to a Microsoft Azure SQL Database in a customer-owned Microsoft Azure subscription.</span></span>

<span data-ttu-id="436c4-105">サポートされているターゲットの同期先は、Microsoft Azure 仮想マシン上の Microsoft Azure SQL Database と Microsoft SQL Server です。</span><span class="sxs-lookup"><span data-stu-id="436c4-105">The supported target destinations are Microsoft Azure SQL Database and Microsoft SQL Server on Microsoft Azure virtual machines.</span></span> <span data-ttu-id="436c4-106">データ エクスポート サービスは、完全な書き込みを行った後、Microsoft Dynamics 365 (online) システムでの発生に合わせてデルタ変更を継続的に行います。</span><span class="sxs-lookup"><span data-stu-id="436c4-106">The Data Export Service does a full write, followed by delta changes on a continuous basis, as they occur in the Microsoft Dynamics 365 (online) system.</span></span> <span data-ttu-id="436c4-107">これにより、Dynamics 365 データに関するいくつかの分析およびレポート作成シナリオが可能になります。</span><span class="sxs-lookup"><span data-stu-id="436c4-107">This helps enable several analytics and reporting scenarios on Dynamics 365 data.</span></span>

<span data-ttu-id="436c4-108">2019 年 4 月リリースでは、お客様からのフィードバックに基づき、データ エクスポート サービスの信頼性とパフォーマンスの向上に関して以下の作業が行われています。</span><span class="sxs-lookup"><span data-stu-id="436c4-108">Per feedback from our customers, we continue to improve the Data Export Service to be more reliable and performant by making the following investments for April '19.</span></span>

## <a name="show-count-and-trend-of-records-to-validate-and-notify-on-convergence-status"></a><span data-ttu-id="436c4-109">収束の状態を検証および通知するためにレコードの数と傾向を表示する</span><span class="sxs-lookup"><span data-stu-id="436c4-109">Show count and trend of records to validate and notify on convergence status</span></span>

<span data-ttu-id="436c4-110">Dynamics 365 for Sales (CRM) および Azure SQL Database からのレコードの数と傾向を表示することは、変更が正常に書き込まれたことを確認するために、同期元と同期先両方のレコード数を見たいというお客様からの最大の要望です。</span><span class="sxs-lookup"><span data-stu-id="436c4-110">Showing the count and trend of records from Dynamics 365 for Sales (CRM) and Azure SQL Database has been a top request from our customers who want to view the counts from both source and destination to ensure that their changes were written successfully.</span></span> <span data-ttu-id="436c4-111">さらに、この機能では、1 時間ごとに Dynamics 365 for Sales (CRM) と Azure SQL Database 両方のエンティティ別のレコード数を比較することによって、レコード数の傾向が提供されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-111">Additionally, this feature provides a trend of record counts by comparing the number of records by entity in both Dynamics 365 for Sales (CRM) and Azure SQL Database on an hourly basis.</span></span> <span data-ttu-id="436c4-112">また、Dynamics 365 for Sales (CRM) と Azure SQL Database の両方で、最新のバージョンと、エンティティごとのレコードのメタデータのバージョンも比較されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-112">We are also providing a comparison of the latest version and the version of metadata of records by entity in both Dynamics 365 for Sales (CRM) and Azure SQL Database.</span></span>

<span data-ttu-id="436c4-113">これらの機能強化により、お客様はレコードの収束 (または発散) を予測し、必要に応じて適切な措置を講じることができます。</span><span class="sxs-lookup"><span data-stu-id="436c4-113">These investments will let our customers predict convergence (or divergence) of records and take appropriate measures, as necessary.</span></span> <span data-ttu-id="436c4-114">また、データが同期していないためにエンティティ レコードに失敗通知がある場合にユーザーに知らせるアラート メカニズムを追加しています。</span><span class="sxs-lookup"><span data-stu-id="436c4-114">We are also adding more alerting mechanisms to inform users when the entity records have failure notifications because the data is out of sync.</span></span>

## <a name="minimize-write-failures-by-prioritizing-metadata-before-data"></a><span data-ttu-id="436c4-115">データの前のメタデータを優先することで書き込みの失敗を最小限に抑える</span><span class="sxs-lookup"><span data-stu-id="436c4-115">Minimize write failures by prioritizing metadata before data</span></span>

<span data-ttu-id="436c4-116">お客様の環境でよく見られる失敗の 1 つは、データがメタデータよりも前に表示され、書き込みが失敗することです。</span><span class="sxs-lookup"><span data-stu-id="436c4-116">One of the common failures we have seen in customers' environments is when the data shows up prior to the metadata, causing write failures.</span></span> <span data-ttu-id="436c4-117">この機能を利用して、データ メッセージよりメタデータ メッセージを優先させるためのキューを実装し、メタデータ メッセージの処理が失敗した場合にデータ メッセージの処理を一時停止するようにしました。</span><span class="sxs-lookup"><span data-stu-id="436c4-117">With the help of this feature, we implement a queue to prioritize the metadata messages over the data messages and pause the processing of data messages when metadata message processing fails.</span></span> <span data-ttu-id="436c4-118">また、データ メッセージの "受信メタデータ バージョン" 部分を検証し、それが SQL のものと異なる場合は、データ メッセージを処理せずにキューに入れます。</span><span class="sxs-lookup"><span data-stu-id="436c4-118">We also validate the "metadata version coming" part of the data message and, if it is different from the one in SQL, do not process the data messages and put them in the queue.</span></span>

## <a name="show-unsupported-entities-for-change-tracking"></a><span data-ttu-id="436c4-119">変更追跡でサポートされていないエンティティを表示する</span><span class="sxs-lookup"><span data-stu-id="436c4-119">Show unsupported entities for change tracking</span></span>

<span data-ttu-id="436c4-120">これまでは、変更追跡が有効になっていないエンティティを識別する簡単な方法がありませんでした。</span><span class="sxs-lookup"><span data-stu-id="436c4-120">In the past, there was no easy way to identify entities that don't have change tracking enabled.</span></span> <span data-ttu-id="436c4-121">それらのエンティティはサポートされませんでした。</span><span class="sxs-lookup"><span data-stu-id="436c4-121">These entities weren't supported.</span></span> <span data-ttu-id="436c4-122">今回の変更により、すべてのエンティティがユーザー インターフェイスに表示され、変更追跡の対象としてサポートされていないエンティティはグレー表示されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-122">With this change, we will show all entities in the user interface and gray out the unsupported ones for change tracking.</span></span> <span data-ttu-id="436c4-123">これにより、いっそう直感的なエクスペリエンスが提供されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-123">This provides a more intuitive experience.</span></span>

## <a name="reduce-latency-and-improve-performance"></a><span data-ttu-id="436c4-124">待機時間を短縮してパフォーマンスを向上させる</span><span class="sxs-lookup"><span data-stu-id="436c4-124">Reduce latency and improve performance</span></span>

<span data-ttu-id="436c4-125">データ エクスポート サービスでは、プロファイルごとに 1 つの削除ログが保持されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-125">Data Export Service maintains a single delete log per profile.</span></span> <span data-ttu-id="436c4-126">このログを使用して、削除とそのタイムスタンプが追跡されます。</span><span class="sxs-lookup"><span data-stu-id="436c4-126">This log is used to track deletes along with their timestamps.</span></span> <span data-ttu-id="436c4-127">お客様との話し合いによれば、特に多数のエンティティを含む大規模なプロファイルでは、単一の削除ログがパフォーマンスのボトルネックの原因になります。</span><span class="sxs-lookup"><span data-stu-id="436c4-127">Based on discussions with customers, especially in larger profiles with many entities, a single delete log causes performance bottlenecks.</span></span> <span data-ttu-id="436c4-128">この変更では、エンティティごとに削除ログを分割して、エンティティごとに 1 つ作成し、それによって削除処理の待機時間を大幅に短縮しました。</span><span class="sxs-lookup"><span data-stu-id="436c4-128">With this change, we split the delete log for each entity, creating one per entity and thereby drastically reducing latency to process deletions.</span></span> <span data-ttu-id="436c4-129">削除ログ テーブルにインデックスを追加することで、クエリのパフォーマンスがさらに向上します。</span><span class="sxs-lookup"><span data-stu-id="436c4-129">An additional index on the delete log table further improves performance on queries.</span></span>
