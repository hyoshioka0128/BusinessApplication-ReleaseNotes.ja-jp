---
title: データ エクスポート サービス
description: データ エクスポート サービス
author: sabinn-msft
ms.date: 01/21/2019
ms.topic: article
ms.service: business-applications
ms.author: sabinn
ms.reviewer: deonhe
ms.openlocfilehash: ffacc429e692da74a6aa06259b3094b2a3255d77
ms.sourcegitcommit: 9a31d79f2ae098559c294503984e0d9ddc37c0ad
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/17/2019
ms.locfileid: "210290"
---
# <a name="data-export-service"></a><span data-ttu-id="3d317-103">データ エクスポート サービス</span><span class="sxs-lookup"><span data-stu-id="3d317-103">Data Export Service</span></span>
[!include[cdm-data-integration banner](../includes/cdm-data-integration.md)]


<span data-ttu-id="3d317-104">Microsoft Dynamics365 のデータ エクスポート サービス (DES) は Microsoft AppSource 提供の無料アドオンであり、Microsoft Dynamics 365 (online) のデータを、顧客が所有する Microsoft Azure サブスクリプションの Microsoft Azure SQL Database に同期します。</span><span class="sxs-lookup"><span data-stu-id="3d317-104">Microsoft Dynamics 365 Data Export Service (DES) is a free add-on from Microsoft AppSource that synchronizes Microsoft Dynamics 365 (online) data to a Microsoft Azure SQL Database in a customer-owned Microsoft Azure subscription.</span></span>

<span data-ttu-id="3d317-105">サポートされているターゲットの同期先は、Microsoft Azure 仮想マシン上の Microsoft Azure SQL Database と Microsoft SQL Server です。</span><span class="sxs-lookup"><span data-stu-id="3d317-105">The supported target destinations are Microsoft Azure SQL Database and Microsoft SQL Server on Microsoft Azure virtual machines.</span></span> <span data-ttu-id="3d317-106">データ エクスポート サービスは、完全な書き込みを行った後、Microsoft Dynamics 365 (online) システムでの発生に合わせてデルタ変更を継続的に行います。</span><span class="sxs-lookup"><span data-stu-id="3d317-106">The Data Export Service does a full write, followed by delta changes on a continuous basis, as they occur in the Microsoft Dynamics 365 (online) system.</span></span> <span data-ttu-id="3d317-107">これにより、Power BI などの Azure サービスで Dynamics 365 のデータに対する分析やレポート作成などの複数のシナリオが可能になり、新たに顧客やパートナーがカスタム ソリューションを構築できるようになります。</span><span class="sxs-lookup"><span data-stu-id="3d317-107">This helps enable several analytics and reporting scenarios on top of Dynamics 365 data with Azure services such as Power BI, and opens up new possibilities for customers and partners to build custom solutions.</span></span>

<span data-ttu-id="3d317-108">2019 年 4 月リリースでは、お客様からのフィードバックに基づき、データ エクスポート サービスの信頼性とパフォーマンスの向上に関して以下の作業が行われています。</span><span class="sxs-lookup"><span data-stu-id="3d317-108">Per feedback from our customers, we continue to improve the Data Export Service to be more reliable and performant by making the following investments for April '19.</span></span>

## <a name="trending-insights-that-show-your-records-are-up-to-date"></a><span data-ttu-id="3d317-109">レコードが最新のものであることを示す傾向分析情報</span><span class="sxs-lookup"><span data-stu-id="3d317-109">Trending insights that show your records are up to date</span></span>

<span data-ttu-id="3d317-110">Dynamics 365 for Sales (CRM) および Azure SQL Database からのレコードの数と傾向を表示することは、変更が正常に書き込まれたことを確認するために、同期元と同期先両方のレコード数を見たいというお客様からの最大の要望です。</span><span class="sxs-lookup"><span data-stu-id="3d317-110">Showing the count and trend of records from Dynamics 365 for Sales (CRM) and Azure SQL Database has been a top request from our customers who want to view the counts from both source and destination to ensure that their changes were written successfully.</span></span> <span data-ttu-id="3d317-111">さらに、この機能では、1 時間ごとに Dynamics 365 for Sales (CRM) と Azure SQL Database 両方のエンティティ別のレコード数を比較することによって、レコード数の傾向が提供されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-111">Additionally, this feature provides a trend of record counts by comparing the number of records by entity in both Dynamics 365 for Sales (CRM) and Azure SQL Database on an hourly basis.</span></span> <span data-ttu-id="3d317-112">また、Dynamics 365 for Sales (CRM) と Azure SQL Database の両方で、最新のバージョンと、エンティティごとのレコードのメタデータのバージョンも比較されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-112">We are also providing a comparison of the latest version and the version of metadata of records by entity in both Dynamics 365 for Sales (CRM) and Azure SQL Database.</span></span>

<span data-ttu-id="3d317-113">これらの機能強化により、お客様はレコードの収束 (または発散) を予測し、必要に応じて適切な措置を講じることができます。</span><span class="sxs-lookup"><span data-stu-id="3d317-113">These investments will let our customers predict convergence (or divergence) of records and take appropriate measures, as necessary.</span></span> <span data-ttu-id="3d317-114">また、データが同期していないためにエンティティ レコードに失敗通知がある場合にユーザーに知らせるアラート メカニズムを追加しています。</span><span class="sxs-lookup"><span data-stu-id="3d317-114">We are also adding more alerting mechanisms to inform users when the entity records have failure notifications because the data is out of sync.</span></span>

## <a name="design-changes-to-mitigate-known-issues"></a><span data-ttu-id="3d317-115">既知の問題を軽減するための設計変更</span><span class="sxs-lookup"><span data-stu-id="3d317-115">Design changes to mitigate known issues</span></span>

<span data-ttu-id="3d317-116">お客様の環境でよく見られる失敗の 1 つは、データがメタデータよりも前に表示され、書き込みが失敗することです。</span><span class="sxs-lookup"><span data-stu-id="3d317-116">One of the common failures we have seen in customers' environments is when the data shows up prior to the metadata, causing write failures.</span></span> <span data-ttu-id="3d317-117">この機能を利用して、データ メッセージよりメタデータ メッセージを優先させるためのキューを実装し、メタデータ メッセージの処理が失敗した場合にデータ メッセージの処理を一時停止するようにしました。</span><span class="sxs-lookup"><span data-stu-id="3d317-117">With the help of this feature, we implement a queue to prioritize the metadata messages over the data messages and pause the processing of data messages when metadata message processing fails.</span></span> <span data-ttu-id="3d317-118">また、データ メッセージの "受信メタデータ バージョン" 部分を検証し、それが SQL のものと異なる場合は、データ メッセージを処理せずにキューに入れます。</span><span class="sxs-lookup"><span data-stu-id="3d317-118">We also validate the "metadata version coming" part of the data message and, if it is different from the one in SQL, do not process the data messages and put them in the queue.</span></span>

<span data-ttu-id="3d317-119">これまでは、変更の追跡が有効になっていないエンティティを識別する簡単な方法がなかったため、サポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3d317-119">In the past, there was no easy way to identify entities that do not have change tracking enabled, and are thereby unsupported.</span></span> <span data-ttu-id="3d317-120">今回の変更により、すべてのエンティティがユーザー インターフェイスに表示され、変更追跡のためにサポートされていないエンティティはグレー表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-120">With this change, we will show all entities in the user interface and gray out the unsupported ones for change tracking.</span></span> <span data-ttu-id="3d317-121">これにより、いっそう直感的なエクスペリエンスが提供されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-121">This provides a more intuitive experience.</span></span>

<span data-ttu-id="3d317-122">また、Dynamics 365 for Sales と Azure SQL Database の間でフィールド長が誤っているためにエラーが発生することもよくあります。</span><span class="sxs-lookup"><span data-stu-id="3d317-122">It is also common to see failures due to incorrect field lengths between Dynamics 365 for Sales and Azure SQL Database.</span></span> <span data-ttu-id="3d317-123">この変更により、DES は Dynamics 365 for Sales の適切なプロパティを使用するようになり、フィールド長が正しくないために Azure SQL Database にデータをプッシュできない問題を回避できます。</span><span class="sxs-lookup"><span data-stu-id="3d317-123">With this change, the DES will use the appropriate property from Dynamics 365 for Sales, which will prevent the problem in which customers were unable to push data to Azure SQL Database due to incorrect field lengths.</span></span>

## <a name="reduce-latency-and-improve-performance"></a><span data-ttu-id="3d317-124">待機時間を短縮してパフォーマンスを向上させる</span><span class="sxs-lookup"><span data-stu-id="3d317-124">Reduce latency and improve performance</span></span>

<span data-ttu-id="3d317-125">データ エクスポート サービスでは、プロファイルごとに 1 つの削除ログが保持されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-125">Data Export Service maintains a single delete log per profile.</span></span> <span data-ttu-id="3d317-126">このログを使用して、削除とそのタイムスタンプが追跡されます。</span><span class="sxs-lookup"><span data-stu-id="3d317-126">This log is used to track deletes along with their timestamps.</span></span> <span data-ttu-id="3d317-127">お客様との話し合いにより、特に多数のエンティティを含む大規模なプロファイルでは、単一の削除ログがパフォーマンスのボトルネックの原因になります。</span><span class="sxs-lookup"><span data-stu-id="3d317-127">Based on discussions with customers, especially in larger profiles with many entities, a single delete log causes performance bottlenecks.</span></span> <span data-ttu-id="3d317-128">この変更では、エンティティごとに削除ログを分割して、エンティティごとに 1 つ作成し、それによって削除処理の待機時間を大幅に短縮しました。</span><span class="sxs-lookup"><span data-stu-id="3d317-128">With this change, we split the delete log for each entity, creating one per entity and thereby drastically reducing latency to process deletions.</span></span> <span data-ttu-id="3d317-129">削除ログ テーブルにインデックスを追加することで、クエリのパフォーマンスがさらに向上します。</span><span class="sxs-lookup"><span data-stu-id="3d317-129">An additional index on the delete log table further improves performance on queries.</span></span>
